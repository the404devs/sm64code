<!DOCTYPE html>
<html>
    <head>
        <title>SM64 Colour Code Generator</title>
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/controls.css">
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/main.css">
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/home.css">
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/nav.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
        <script src="https://kit.fontawesome.com/a79a931136.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script type="text/javascript" src="js/app.js"></script>
		<script type="text/javascript" src="js/magic-filter.js"></script>
    </head>
    <body class="theme-light" onload="readLocalStorage(); reset();">
        <div class="header">
            <!-- <div class="logo">SM64 Colour Code Generator</div> -->
            <!-- <div class="star" onclick="star()">
                <img src="img/star.gif">
            </div> -->

            <span class="menu-button" onclick="toggleHelpMenu()" title="Show Help" id="help-menu-open">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                    <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                    <path d="M80 160c0-35.3 28.7-64 64-64l32 0c35.3 0 64 28.7 64 64l0 3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74l0 1.4c0 17.7 14.3 32 32 32s32-14.3 32-32l0-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7l0-3.6c0-70.7-57.3-128-128-128l-32 0C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/>
                </svg>
            </span>

            <div class="logo">
                <div class="logo-big">
                    <span style="color: crimson">S</span><span style="color: cornflowerblue">u</span><span style="color: gold">p</span><span style="color: cornflowerblue">e</span><span style="color: forestgreen">r</span> <span style="color: cornflowerblue">M</span><span style="color: forestgreen">a</span><span style="color: gold">r</span><span style="color: crimson">i</span><span style="color: forestgreen">o</span> <span style="color: red">64</span> 
                </div>
                <div class="logo-small">
                    <span style="color: white;">Colour Code Generator</span>
                </div>
            </div>


            <span class="menu-button right" onclick="toggleColorMenu()" title="View Saved Colours" id="color-menu-open">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                    <path d="M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3L344 320c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"/>
                </svg>
            </span>
        </div>

        <div id="color-menu" class="sidenav right">
            <span class="menu-button right" onclick="toggleColorMenu()" title="Close">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                    <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                    <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/>
                </svg>
            </span>
            <hr>
            <h2 class="blob-header">Saved Colours</h2>
            <div id="color-list"></div>
        </div>

        <div id="help-menu" class="sidenav">
            <span class="menu-button" onclick="toggleHelpMenu()" title="Close">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                    <!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                    <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/>
                </svg>
            </span>
            <hr>
            <h2 class="blob-header">How to use your code:</h2>
            <button class="accordion">Project64</button>
            <div class="panel">
                <p>Open the Cheats menu from the top menu bar at <b>System >> Cheats</b>. <br><br>Click the arrow on the right hand side to open the cheat creation section. <br><br>Paste your code into the box labeled <b>"address,"</b> and give a name for the code in the <b>"Name"</b> box. <br><br>Click on <b>"Add Cheat,"</b> and it will appear in the list on the left hand side. <br><br>Now just check off the box beside it and Mario will be sporting his new look!</p>
            </div>

            <button class="accordion">Parallel Launcher</button>
            <div class="panel">
                <p>Access the Quick Menu with F1, and scroll down to "Cheats". <br><br>Navigate to <b>"Load Cheat File (Append)"</b>, and select the <b>.cht</b> file you downloaded from here.<br><br>There should now be a new entry in the cheats list named <b>"Custom Colour"</b>, make sure it is enabled.<br><br>Alternatively, you can manually create a new cheat entry and copy-paste the code from here.</p>
            </div>

            <hr class="divider">
            <h2 class="blob-header">Recent Changes:</h2>
            <ul>
                <li>Fixed an issue causing Mario to look weird in Project64.</li>
                <li>Chinese iQue support!</li>
                <li>Improved Mario preview rendering!</li>
                <li>Support for shadow colours!</li>
                <li>Local saving of colour codes!</li>
                <li>Brand-new shiny UI!</li>
            </ul>
            <hr class="divider">
            <h2 class="blob-header">Links:</h2>
            <ul>
                <li><a class="link" href="https://github.com/the404devs/sm64code">Source Code</a></li>
                <li><a class="link" href="https://github.com/the404devs/sm64code/issues">Report Issues</a></li>
                <br>
                <li><a class="link" href="https://the404.nl" style="color: #b20acb;">The404 Home</a></li>
            </ul>
        </div>

        <div class="content-wrapper">
            <div class="content" id="content">
                <div class="blob noscale" id="color-selectors">
                    <h2 class="blob-header">Hat & Shirt</h2>
                    <div class="control-group">
                        <label>Base:</label>
                        <input class="button mario-color" type="color" id="cap-base" onchange="updatePreview(this.id)" value="#ff0000">
                        <span id="cap-base-label"></span>
                        <br>
                        <label>Shade:</label>
                        <input class="button mario-color" type="color" id="cap-shadow" onchange="updatePreview(this.id)" value="#7f0000">
                        <span id="cap-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Face</h2>
                    <div class="control-group">
                        <label>Base:</label>
                        <input class="button mario-color" type="color" id="skin-base" onchange="updatePreview(this.id)" value="#fcbf79">
                        <span id="skin-base-label"></span>
                        <br>
                        <label>Shade:</label>
                        <input class="button mario-color" type="color" id="skin-shadow" onchange="updatePreview(this.id)" value="#81603c">
                        <span id="skin-shadow-label"></span>
                    </div>                   
                    <h2 class="blob-header">Gloves</h2>
                    <div class="control-group">
                        <label>Base:</label>
                        <input class="button mario-color" type="color" id="gloves-base" onchange="updatePreview(this.id)" value="#ffffff">
                        <span id="gloves-base-label"></span>
                        <br>
                        <label>Shade:</label>
                        <input class="button mario-color" type="color" id="gloves-shadow" onchange="updatePreview(this.id)" value="#7f7f7f">
                        <span id="gloves-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Overalls</h2>
                    <div class="control-group">
                        <label>Base:</label>
                        <input class="button mario-color" type="color" id="overalls-base" onchange="updatePreview(this.id)" value="#0000ff">
                        <span id="overalls-base-label"></span>
                        <br>
                        <label>Shade:</label>
                        <input class="button mario-color" type="color" id="overalls-shadow" onchange="updatePreview(this.id)" value="#00007f">
                        <span id="overalls-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Hair</h2>
                    <div class="control-group">
                        <label>Base:</label>
                        <input class="button mario-color" type="color" id="hair-base" onchange="updatePreview(this.id)" value="#730600">
                        <span id="hair-base-label"></span>
                        <br>
                        <label>Shade:</label>
                        <input class="button mario-color" type="color" id="hair-shadow" onchange="updatePreview(this.id)" value="#390300">  
                        <span id="hair-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Shoes</h2>
                    <div class="control-group">
                        <label>Base:</label>
                        <input class="button mario-color" type="color" id="shoes-base" onchange="updatePreview(this.id)" value="#701c0f">
                        <span id="shoes-base-label"></span>
                        <br>
                        <label>Shade:</label>
                        <input class="button mario-color" type="color" id="shoes-shadow" onchange="updatePreview(this.id)" value="#2f0e07">
                        <span id="shoes-shadow-label"></span>
                    </div>
                    <hr class="divider">
                    <button class="button" onclick="randomize()"><span>Randomize!</span></button>
                </div>

                <div class="blob noscale" id="preview-window">
                    <h2 class="blob-header">Preview</h2>
                    <div class="image-container" id="preview">
                        <img class="image-overlay" id="shadow" src="img/void.png">
                        <img class="image-overlay" id="cap-base-img" src="img/cap-base.png">
                        <img class="image-overlay" id="cap-shadow-img" src="img/cap-shadow.png">
                        <img class="image-overlay" id="skin-base-img" src="img/skin-base.png">
                        <img class="image-overlay" id="skin-shadow-img" src="img/skin-shadow.png">
                        <img class="image-overlay" id="gloves-base-img" src="img/gloves-base.png">
                        <img class="image-overlay" id="gloves-shadow-img" src="img/gloves-shadow.png">
                        <img class="image-overlay" id="overalls-base-img" src="img/overalls-base.png">
                        <img class="image-overlay" id="overalls-shadow-img" src="img/overalls-shadow.png">
                        <img class="image-overlay" id="hair-base-img" src="img/hair-base.png">
                        <img class="image-overlay" id="hair-shadow-img" src="img/hair-shadow.png">
                        <img class="image-overlay" id="shoes-base-img" src="img/shoes-base.png">
                        <img class="image-overlay" id="shoes-shadow-img" src="img/shoes-shadow.png">
                        <img class="image-overlay" id="textures" src="img/textures.png">
                    </div>
                    <hr class="divider">
                    <p>
                        <b>This preview may not be 100% accurate</b> to in-game colours due to some slight randomness in the Mario-dyeing process.
                        <br>
                        <br>
                        If a <b>shade</b> colour is brighter than the corresponding <b>base</b> colour, the <b>shade</b> colour will be much more overpowering in-game compared to what you see here.
                    </p>
                    <button class="button" onclick="reset()"><span>Reset Mario</span></button>
                </div>
                <div class="blob wide noscale">
                    <h2 class="blob-header">Your Code:</h2>
                    <input id="code-name" type="text" placeholder="Enter a name..." onchange="updateName(this.value)" maxlength="24">
                    <div class="textarea-container">
                        <textarea id="code" readonly></textarea>
                        <textarea id="guide" readonly></textarea>
                    </div>
                    <!-- <span id="type">sus</span> -->
                    
                    <button class="button" onclick="copy()"><span>Copy to Clipboard</span></button>
                    <button class="button" onclick="download()"><span>Download as .cht</span></button>
                    <button class="button" onclick="save()"><span>Save Locally</span></button>

                    <hr class="divider">

                    <h2 class="blob-header">Game Version:</h2>
                    <select name="gameVer" id="gameVer" onchange="switchGameVersion()" class="button">
                        <option value="ntsc-u">NTSC-U (North American)</option>
                        <option value="ntsc-j">NTSC-J (Japanese)</option>
                        <option value="pal">PAL (European)</option>
                        <option value="shindou">Shindou (Japanese 1.1)</option>
                        <option value="ique">iQue (Chinese)</option>
                    </select>
                </div>
            </div>
        </div>

        <script>
            //This script block is what allows the panels to expand and retract smoothly.
            var acc = document.getElementsByClassName("accordion");
            var i;

            for (i = 0; i < acc.length; i++) {
              acc[i].addEventListener("click", function() {
                this.classList.toggle("open");
                var panel = this.nextElementSibling;

                panel.classList.toggle("expanded");
                // if (panel.style.maxHeight){
                //   panel.style.maxHeight = null;
                // } else {
                //   panel.style.maxHeight = panel.scrollHeight + "px";
                // } 
              });
            }
        </script>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L7QXVQTKEL"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-L7QXVQTKEL');
        </script>

        <div class="footer subtle">
            <span class="foot-text foot-text-big"><a class="link" href="https://the404.nl">the404.nl</a></span>
            <span class="foot-text"><a class="link" href="https://github.com/the404devs/sm64code">v2.0.4</a></span>
            <span class="foot-text">2025-04-20</span>
        </div>
    </body>
</html>