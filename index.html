<!DOCTYPE html>
<html>
    <head>
        <title>SM64 Colour Code Generator</title>
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/controls.css">
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/main.css">
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/home.css">
        <link rel="stylesheet" type="text/css" href="https://the404.nl/css/nav.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">
		<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
        <script src="https://kit.fontawesome.com/a79a931136.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script type="text/javascript" src="js/app.js"></script>
		<script type="text/javascript" src="js/magic-filter.js"></script>
    </head>
    <body class="theme-light" onload="readLocalStorage(); reset();">
        <div class="header">
            <!-- <div class="logo">SM64 Colour Code Generator</div> -->
            <!-- <div class="star" onclick="star()">
                <img src="img/star.gif">
            </div> -->

            <span class="menu-button" onclick="toggleHelpMenu()" title="Show Help">
                <i class="open-icon fas fa-question" aria-hidden="true"></i>
            </span>

            <div class="logo">
                <div class="logo-big">
                    <span style="color: crimson">S</span><span style="color: cornflowerblue">u</span><span style="color: gold">p</span><span style="color: cornflowerblue">e</span><span style="color: forestgreen">r</span> <span style="color: cornflowerblue">M</span><span style="color: forestgreen">a</span><span style="color: gold">r</span><span style="color: crimson">i</span><span style="color: forestgreen">o</span> <span style="color: red">64</span> 
                </div>
                <div class="logo-small">
                    <span style="color: white;">Colour Code Generator</span>
                </div>
            </div>


            <span class="menu-button right" onclick="toggleColorMenu()" title="View Saved Colours">
                <i class="open-icon fas fa-palette" aria-hidden="true"></i>
            </span>
        </div>

        <div id="color-menu" class="sidenav right">
            <span class="menu-button right" onclick="toggleColorMenu()" title="Close">
                <i class="open-icon fas fa-times" aria-hidden="true"></i>
            </span>
            <hr>
            <h2 class="blob-header">Saved Colours</h2>
            <div id="color-list"></div>
        </div>

        <div id="help-menu" class="sidenav">
            <span class="menu-button" onclick="toggleHelpMenu()" title="Close">
                <i class="open-icon fas fa-times" aria-hidden="true"></i>
            </span>
            <hr>
            <h2 class="blob-header">How to use your code:</h2>
            <button class="accordion">Project64</button>
            <div class="panel">
                <p>Open the Cheats menu from the top menu bar at <b>System >> Cheats</b>. <br>Click the arrow on the right hand side to open the cheat creation section. <br>Paste your code into the box labeled <b>"address,"</b> and give a name for the code in the <b>"Name"</b> box. <br>Click on <b>"Add Cheat,"</b> and it will appear in the list on the left hand side. <br>Now just check off the box beside it and Mario will be sporting his new look!</p>
            </div>

            <button class="accordion">Parallel Launcher</button>
            <div class="panel">
                <p>Access the Quick Menu with F1, and scroll down to "Cheats". <br> Navigate to <b>"Load Cheat File (Append)"</b>, and select the <b>.cht</b> file you downloaded from here.<br>There should now be a new entry in the cheats list named <b>"Custom Colour"</b>, make sure it is enabled.<br><br>Alternatively, you can manually create a new cheat entry and copy-paste the code from here.</p>
            </div>

            <hr class="divider">
            <h2 class="blob-header">Recent Changes:</h2>
            <ul>
                <li>Chinese iQue support!</li>
                <li>Improved Mario preview rendering!</li>
                <li>Support for shadow colours!</li>
                <li>Local saving of colour codes!</li>
                <li>Brand-new shiny UI!</li>
            </ul>
            <hr class="divider">
            <h2 class="blob-header">Links:</h2>
            <ul>
                <li><a class="link" href="https://github.com/the404devs/sm64code">Source Code</a></li>
                <li><a class="link" href="https://github.com/the404devs/sm64code/issues">Report Issues</a></li>
                <br>
                <li><a class="link" href="https://the404.nl" style="color: #b20acb;">The404 Home</a></li>
            </ul>
        </div>

        <div class="content-wrapper">
            <div class="content">
                <div class="blob noscale" id="color-selectors">
                    <h2 class="blob-header">Hat & Shirt</h2>
                    <div class="control-group">
                        <label>Base Colour:</label>
                        <input class="button mario-color" type="color" id="cap-base" onchange="updatePreview(this.id)" value="#ff0000">
                        <span id="cap-base-label"></span>
                        <br>
                        <label>Shadow Colour:</label>
                        <input class="button mario-color" type="color" id="cap-shadow" onchange="updatePreview(this.id)" value="#7f0000">
                        <span id="cap-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Face</h2>
                    <div class="control-group">
                        <label>Base Colour:</label>
                        <input class="button mario-color" type="color" id="skin-base" onchange="updatePreview(this.id)" value="#fcbf79">
                        <span id="skin-base-label"></span>
                        <br>
                        <label>Shadow Colour:</label>
                        <input class="button mario-color" type="color" id="skin-shadow" onchange="updatePreview(this.id)" value="#81603c">
                        <span id="skin-shadow-label"></span>
                    </div>                   
                    <h2 class="blob-header">Gloves</h2>
                    <div class="control-group">
                        <label>Base Colour:</label>
                        <input class="button mario-color" type="color" id="gloves-base" onchange="updatePreview(this.id)" value="#ffffff">
                        <span id="gloves-base-label"></span>
                        <br>
                        <label>Shadow Colour:</label>
                        <input class="button mario-color" type="color" id="gloves-shadow" onchange="updatePreview(this.id)" value="#7f7f7f">
                        <span id="gloves-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Overalls</h2>
                    <div class="control-group">
                        <label>Base Colour:</label>
                        <input class="button mario-color" type="color" id="overalls-base" onchange="updatePreview(this.id)" value="#0000ff">
                        <span id="overalls-base-label"></span>
                        <br>
                        <label>Shadow Colour:</label>
                        <input class="button mario-color" type="color" id="overalls-shadow" onchange="updatePreview(this.id)" value="#00007f">
                        <span id="overalls-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Hair</h2>
                    <div class="control-group">
                        <label>Base Colour:</label>
                        <input class="button mario-color" type="color" id="hair-base" onchange="updatePreview(this.id)" value="#730600">
                        <span id="hair-base-label"></span>
                        <br>
                        <label>Shadow Colour:</label>
                        <input class="button mario-color" type="color" id="hair-shadow" onchange="updatePreview(this.id)" value="#390300">  
                        <span id="hair-shadow-label"></span>
                    </div>
                    <h2 class="blob-header">Shoes</h2>
                    <div class="control-group">
                        <label>Base Colour:</label>
                        <input class="button mario-color" type="color" id="shoes-base" onchange="updatePreview(this.id)" value="#701c0f">
                        <span id="shoes-base-label"></span>
                        <br>
                        <label>Shadow Colour:</label>
                        <input class="button mario-color" type="color" id="shoes-shadow" onchange="updatePreview(this.id)" value="#2f0e07">
                        <span id="shoes-shadow-label"></span>
                    </div>
                    <hr class="divider">
                    <button class="button" onclick="randomize()"><span>Randomize!</span></button>
                </div>

                <div class="blob noscale" id="preview-window">
                    <h2 class="blob-header">Preview</h2>
                    <div class="image-container" id="preview">
                        <img class="image-overlay" id="cap-base-img" src="img/cap-base.png">
                        <img class="image-overlay" id="cap-shadow-img" src="img/cap-shadow.png">
                        <img class="image-overlay" id="skin-base-img" src="img/skin-base.png">
                        <img class="image-overlay" id="skin-shadow-img" src="img/skin-shadow.png">
                        <img class="image-overlay" id="gloves-base-img" src="img/gloves-base.png">
                        <img class="image-overlay" id="gloves-shadow-img" src="img/gloves-shadow.png">
                        <img class="image-overlay" id="overalls-base-img" src="img/overalls-base.png">
                        <img class="image-overlay" id="overalls-shadow-img" src="img/overalls-shadow.png">
                        <img class="image-overlay" id="hair-base-img" src="img/hair-base.png">
                        <img class="image-overlay" id="hair-shadow-img" src="img/hair-shadow.png">
                        <img class="image-overlay" id="shoes-base-img" src="img/shoes-base.png">
                        <img class="image-overlay" id="shoes-shadow-img" src="img/shoes-shadow.png">
                        <img class="image-overlay textures" id="textures" src="img/textures.png">
                    </div>
                    <p>
                        This preview may not be 100% accurate to in-game colours due to some slight randomness in the Mario-dyeing process.
                        <br>
                        <br>
                        Bright shadow colours tend to overpower the base colour.
                    </p>
                    <button class="button" onclick="reset()"><span>Reset Mario</span></button>
                </div>
                <div class="blob wide noscale">
                    <h2 class="blob-header">Your Code:</h2>
                    <input id="code-name" type="text" placeholder="Enter a name..." onchange="updateName(this.value)" maxlength="24">
                    <textarea id="code" readonly></textarea>
                    <textarea id="guide" readonly></textarea>
                    <!-- <span id="type">sus</span> -->
                    
                    <button class="button" onclick="copy()"><span>Copy to Clipboard</span></button>
                    <button class="button" onclick="download()"><span>Download as .cht</span></button>
                    <button class="button" onclick="save()"><span>Save Locally</span></button>

                    <hr class="divider">

                    <h2 class="blob-header">Game Version:</h2>
                    <select name="gameVer" id="gameVer" onchange="switchGameVersion()" class="button">
                        <option value="ntsc-u">NTSC-U (North American)</option>
                        <option value="ntsc-j">NTSC-J (Japanese)</option>
                        <option value="pal">PAL (European)</option>
                        <option value="shindou">Shindou (Japanese 1.1)</option>
                        <option value="ique">iQue (Chinese)</option>
                    </select>
                </div>
            </div>
        </div>

        <script>
            //This script block is what allows the panels to expand and retract smoothly.
            var acc = document.getElementsByClassName("accordion");
            var i;

            for (i = 0; i < acc.length; i++) {
              acc[i].addEventListener("click", function() {
                this.classList.toggle("open");
                var panel = this.nextElementSibling;

                panel.classList.toggle("expanded");
                // if (panel.style.maxHeight){
                //   panel.style.maxHeight = null;
                // } else {
                //   panel.style.maxHeight = panel.scrollHeight + "px";
                // } 
              });
            }
        </script>
        

        <div class="footer subtle">
            <span class="foot-text foot-text-big"><a class="link" href="https://the404.nl">the404.nl</a></span>
            <span class="foot-text"><a class="link" href="https://github.com/the404devs/sm64code">v2.0.2</a></span>
            <span class="foot-text">2024-08-07</span>
        </div>
    </body>
</html>